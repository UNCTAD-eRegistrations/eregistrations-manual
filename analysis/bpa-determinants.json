{
  "section_id": "bpa-determinants",
  "title": "D.2. Determinants",
  "page_range": "p.28-31",
  "analyzed_at": "2026-02-15T14:20:00Z",
  "change_summary": "6 changes detected: The determinant type system has been significantly expanded. The original manual describes determinants generically ('Determinant based on field value'). The API now reveals 7 distinct typed determinants: text, select, numeric, boolean, date, classification, and grid. Classification determinants are entirely new (support ALL/ANY/NONE subjects for multi-select evaluation). Grid determinants are new. The effects/behaviours system adds a new layer of component-determinant interaction beyond simple show/hide. Operators have been expanded (CONTAINS, STARTS_WITH, ENDS_WITH for text; GREATER_THAN, LESS_THAN comparisons for numeric).",
  "change_count": 6,
  "blocks": [
    {
      "type": "unchanged",
      "title": "Determinant definition",
      "content": "A determinant is a filter allowing to take into account the particular case of each applicant in a service. It determines/triggers: if an applicant is subject to a registration and/or what requirements the applicant must provide to register (data, documents, fees).",
      "original_content": "A determinant is a filter allowing to take into account the particular case of each applicant in a service. It determines/triggers: if an applicant is subject to a registration and/or what requirements the applicant must provide to register (data, documents, fees).",
      "explanation": "The core definition and purpose of determinants remains unchanged. They are still filters that adapt the application file to each applicant's specific case.",
      "screenshot_status": "same",
      "screenshot_description": "No change to the conceptual description."
    },
    {
      "type": "unchanged",
      "title": "2.1. Determinants of the registration",
      "content": "For each registration, an analyst must be able to report/input in the rule engine, in clear language, rules defining who/what are the subjects of the registration. Options: 1) The registration is mandatory to all, 2) The registration is mandatory to specific subjects, 3) The registration is optional to all, 4) The registration is optional to specific subjects. Specific subjects can be defined through determinants or a combination of determinants combined by 'AND' and 'OR' operators.",
      "original_content": "For each registration, an analyst must be able to report/input in the rule engine, in clear language, rules defining who/what are the subjects of the registration. Options: 1) The registration is mandatory to all, 2) The registration is mandatory to specific subjects, 3) The registration is optional to all, 4) The registration is optional to specific subjects. Specific subjects can be defined through determinants or a combination of determinants combined by 'AND' and 'OR' operators.",
      "explanation": "The four options for registration determinants (mandatory/optional to all/specific) and the AND/OR combination logic are fundamental to the registration system and remain unchanged.",
      "screenshot_status": "verify",
      "screenshot_description": "Registration determinant options panel -- verify visual appearance."
    },
    {
      "type": "unchanged",
      "title": "2.2. Determinants of the requirements - role and purpose",
      "content": "Determinants play a very important role in the application file. They allow to show or hide specific parts of the application form to adapt the form to the particular situation of each applicant. Determinants can be created on the basis of fields/questions in the Guide or in the form and can be applied to any field/block.",
      "original_content": "Determinants play a very important role in the application file. They allow to show or hide specific parts of the application form to adapt the form to the particular situation of each applicant. Determinants can be created on the basis of fields/questions in the Guide or in the form and can be applied to any field/block.",
      "explanation": "The role of requirement determinants in showing/hiding form parts remains the same. The show/hide behavior is still the primary mechanism.",
      "screenshot_status": "same",
      "screenshot_description": "No change to the conceptual description."
    },
    {
      "type": "modified",
      "title": "Creating a determinant - determinant types",
      "content": "To create a determinant on a block, click on the edit button (gear icon). A slider will open. Click on the Determinant tab, Add. Insert name of determinant, choose the determinant type. The platform supports the following determinant types:\n\n1. **Text determinant**: Evaluates text field values. Operators: EQUAL, NOT_EQUAL, CONTAINS, STARTS_WITH, ENDS_WITH. Can be used with an empty value to check if a field is empty/not empty.\n2. **Select determinant**: Evaluates select/dropdown field values. Operators: EQUAL, NOT_EQUAL.\n3. **Numeric determinant**: Evaluates number field values. Operators: EQUAL, NOT_EQUAL, GREATER_THAN, LESS_THAN, GREATER_THAN_OR_EQUAL, LESS_THAN_OR_EQUAL.\n4. **Boolean determinant**: Evaluates checkbox/toggle values. Checks if a boolean field is True or False.\n5. **Date determinant**: Evaluates date/time field values.\n6. **Classification determinant**: Evaluates catalog/classification field values. Operators: EQUAL, NOT_EQUAL. Supports multi-select evaluation with subject modes: ALL, ANY, NONE.\n7. **Grid determinant**: Evaluates grid component values.\n\nSelect the relevant field, choose the relevant predicate/operator, select value or choose comparison field, save.",
      "original_content": "To create a determinant on a block, click on the edit button (gear icon). A slider will open. Click on the Determinant tab, Add. Insert name of determinant, choose 'Determinant based on field value' under determinant type, select the relevant field, choose the relevant predicate, select value or choose comparison field, save.",
      "explanation": "The original manual described a single generic determinant type ('Determinant based on field value'). The current API reveals 7 distinct typed determinants, each with specific operators and configuration options. This is a significant expansion. The API tools explicitly show: textdeterminant_create (with EQUAL, NOT_EQUAL, CONTAINS, STARTS_WITH, ENDS_WITH operators), selectdeterminant_create (EQUAL, NOT_EQUAL), numericdeterminant_create (EQUAL, NOT_EQUAL, GREATER_THAN, LESS_THAN, GREATER_THAN_OR_EQUAL, LESS_THAN_OR_EQUAL), booleandeterminant_create (True/False), datedeterminant_create, classificationdeterminant_create (EQUAL, NOT_EQUAL with ALL/ANY/NONE subjects), and griddeterminant_create. The creation workflow (gear icon, Determinant tab, Add) is likely the same, but the type selection now shows these specific options.",
      "screenshot_status": "needs_update",
      "screenshot_description": "Determinant creation form showing the expanded type dropdown with all 7 determinant types. Also show the operator options for each type."
    },
    {
      "type": "added",
      "title": "Classification determinant (new type)",
      "content": "Classification determinants are a new determinant type that evaluates catalog/classification field values. They support:\n- A classification_field parameter (catalog field UUID) to specify which catalog to evaluate against\n- Operators: EQUAL, NOT_EQUAL\n- Subject modes for multi-select evaluation: ALL (all selected values must match), ANY (at least one selected value must match), NONE (no selected value should match)\n\nThis is particularly useful for services where applicants select from classification catalogs (e.g., economic activity codes, product categories) and the form needs to adapt based on the classification chosen.",
      "original_content": null,
      "explanation": "Classification determinants are entirely new. The classificationdeterminant_create API tool shows parameters: service_id, name, target_form_field_key, classification_field (UUID), operator (EQUAL/NOT_EQUAL), and subject (ALL/ANY/NONE). This type bridges the determinant system with the classification catalog system, enabling powerful multi-select conditional logic that was not possible with the original generic determinant approach.",
      "screenshot_status": "needs_new",
      "screenshot_description": "Classification determinant creation form showing the classification field selection, operator choice, and ALL/ANY/NONE subject selector."
    },
    {
      "type": "added",
      "title": "Grid determinant (new type)",
      "content": "Grid determinants allow creating conditions based on values within grid components (edit grids or data grids). This enables conditional logic based on data entered in repeatable grid rows.",
      "original_content": null,
      "explanation": "The griddeterminant_create API tool confirms grid determinants as a distinct type. The original manual did not mention the ability to create determinants based on grid component values. The exact parameters and configuration options for grid determinants need verification.",
      "screenshot_status": "needs_new",
      "screenshot_description": "Grid determinant creation form showing configuration options."
    },
    {
      "type": "unchanged",
      "title": "Applying determinants via drag and drop",
      "content": "Once created, select and drop the determinant on the right panel under selected determinants, select the behavior of the component (show/hide when determinant condition is true), General Save.",
      "original_content": "Once created, select and drop the determinant on the right panel under selected determinants, select the behavior of the component (show/hide when determinant condition is true), General Save.",
      "explanation": "The drag-and-drop workflow for applying determinants to components remains the same. Select from available determinants, drop onto the component's selected determinants panel, and configure show/hide behavior.",
      "screenshot_status": "verify",
      "screenshot_description": "Drag and drop determinant application panel -- verify visual appearance."
    },
    {
      "type": "unchanged",
      "title": "D indicator in orange",
      "content": "If the field configuration has a determinant, it will be indicated by the letter 'D' in orange color. If there is more than one determinant, the icon will have a dot in the top right corner.",
      "original_content": "If the field configuration has a determinant, it will be indicated by the letter 'D' in orange color. If there is more than one determinant, the icon will have a dot in the top right corner.",
      "explanation": "The visual indicators for determinants (orange D, dot for multiple) are UI conventions that remain consistent across the platform.",
      "screenshot_status": "verify",
      "screenshot_description": "D indicator on a component -- verify orange color and dot indicator for multiples."
    },
    {
      "type": "unchanged",
      "title": "Special case - Empty date field determinant",
      "content": "Special cases of Determinants: Empty date field determinant - create a determinant with a selected date time field with predicate '=' or '!=' without selecting any date.",
      "original_content": "Special cases of Determinants: Empty date field determinant - create a determinant with a selected date time field with predicate '=' or '!=' without selecting any date.",
      "explanation": "The empty date field determinant pattern remains valid. The text determinant also supports empty value checks (text_value defaults to empty string for isEmpty checks), extending this pattern to text fields as well.",
      "screenshot_status": "verify",
      "screenshot_description": "Empty date determinant configuration -- verify same approach works."
    },
    {
      "type": "added",
      "title": "Effects and component behaviours system",
      "content": "The platform now includes a component behaviours and effects system that extends determinant capabilities beyond simple show/hide. Component behaviours allow configuring multiple effects on a component, each driven by one or more determinants. Effects can control properties such as visibility, required status, disabled state, and other component attributes. This provides more granular control than the original show/hide mechanism.",
      "original_content": null,
      "explanation": "The componentbehaviour and effect API tools (componentbehaviour_list, componentbehaviour_get, componentbehaviour_get_by_component, effect_create, effect_delete) indicate a sophisticated effects system that extends determinant functionality. This system allows multiple effects per component, each driven by determinant conditions, going beyond the original binary show/hide behavior documented in the manual. The exact UI representation and configuration workflow need verification.",
      "screenshot_status": "needs_new",
      "screenshot_description": "Component behaviour configuration showing effects, determinant associations, and property controls beyond show/hide."
    },
    {
      "type": "verify",
      "title": "Determinant search and reuse capabilities",
      "content": "The platform now supports searching and discovering existing determinants within a service, promoting reuse and consistency. Determinants can be searched by name pattern, type, operator, and target field key.",
      "original_content": null,
      "explanation": "The determinant_search API tool shows search capabilities (name_pattern, determinant_type, operator, target_field_key filters). This suggests the BPA UI may have a determinant search/discovery interface that helps analysts find and reuse existing determinants rather than creating duplicates. The exact UI for this needs verification.",
      "screenshot_status": "unknown",
      "screenshot_description": "Determinant search or discovery interface if it exists in the BPA UI."
    },
    {
      "type": "verify",
      "title": "Text determinant condition_logic and json_condition",
      "content": "Text and select determinants support optional condition_logic and json_condition parameters, enabling more complex conditional expressions beyond simple field-value comparisons.",
      "original_content": null,
      "explanation": "The textdeterminant_create and selectdeterminant_create API tools include optional condition_logic and json_condition parameters. These suggest support for advanced conditional expressions (possibly JSONLogic-based). Whether this is exposed in the BPA UI needs verification.",
      "screenshot_status": "unknown",
      "screenshot_description": "Advanced condition configuration for determinants if available in BPA UI."
    }
  ]
}
