---
title: "F. Roles"
description: "eRegistrations Manual - F. Roles (Original pages 97-116)"
---

# F. Roles


<!-- PDF Screenshots -->
??? example "Original Manual Screenshots"
 ![pdf-bpa-roles-01.png](./screenshots/pdf-bpa-roles-01.png){ loading=lazy }

 ![pdf-bpa-roles-02.png](./screenshots/pdf-bpa-roles-02.png){ loading=lazy }

 ![pdf-bpa-roles-03.png](./screenshots/pdf-bpa-roles-03.png){ loading=lazy }

 ![pdf-bpa-roles-04.png](./screenshots/pdf-bpa-roles-04.png){ loading=lazy }

 ![pdf-bpa-roles-05.png](./screenshots/pdf-bpa-roles-05.png){ loading=lazy }

 ![pdf-bpa-roles-06.png](./screenshots/pdf-bpa-roles-06.png){ loading=lazy }

 ![pdf-bpa-roles-07.png](./screenshots/pdf-bpa-roles-07.png){ loading=lazy }

 ![pdf-bpa-roles-08.png](./screenshots/pdf-bpa-roles-08.png){ loading=lazy }

 ![pdf-bpa-roles-09.png](./screenshots/pdf-bpa-roles-09.png){ loading=lazy }

 ![pdf-bpa-roles-10.png](./screenshots/pdf-bpa-roles-10.png){ loading=lazy }

 ![pdf-bpa-roles-11.png](./screenshots/pdf-bpa-roles-11.png){ loading=lazy }

 ![pdf-bpa-roles-12.png](./screenshots/pdf-bpa-roles-12.png){ loading=lazy }

 ![pdf-bpa-roles-13.png](./screenshots/pdf-bpa-roles-13.png){ loading=lazy }

 ![pdf-bpa-roles-14.png](./screenshots/pdf-bpa-roles-14.png){ loading=lazy }

 ![pdf-bpa-roles-15.png](./screenshots/pdf-bpa-roles-15.png){ loading=lazy }

 ![pdf-bpa-roles-16.png](./screenshots/pdf-bpa-roles-16.png){ loading=lazy }

 ![pdf-bpa-roles-17.png](./screenshots/pdf-bpa-roles-17.png){ loading=lazy }

 ![pdf-bpa-roles-18.png](./screenshots/pdf-bpa-roles-18.png){ loading=lazy }

 ![pdf-bpa-roles-19.png](./screenshots/pdf-bpa-roles-19.png){ loading=lazy }

 ![pdf-bpa-roles-20.png](./screenshots/pdf-bpa-roles-20.png){ loading=lazy }

 ![pdf-bpa-roles-21.png](./screenshots/pdf-bpa-roles-21.png){ loading=lazy }

 ![pdf-bpa-roles-22.png](./screenshots/pdf-bpa-roles-22.png){ loading=lazy }

 ![pdf-bpa-roles-23.png](./screenshots/pdf-bpa-roles-23.png){ loading=lazy }

 ![pdf-bpa-roles-24.png](./screenshots/pdf-bpa-roles-24.png){ loading=lazy }

 ![pdf-bpa-roles-25.png](./screenshots/pdf-bpa-roles-25.png){ loading=lazy }

 ![pdf-bpa-roles-26.png](./screenshots/pdf-bpa-roles-26.png){ loading=lazy }

 ![pdf-bpa-roles-27.png](./screenshots/pdf-bpa-roles-27.png){ loading=lazy }

 ![pdf-bpa-roles-28.png](./screenshots/pdf-bpa-roles-28.png){ loading=lazy }

 ![pdf-bpa-roles-29.png](./screenshots/pdf-bpa-roles-29.png){ loading=lazy }

 ![pdf-bpa-roles-30.png](./screenshots/pdf-bpa-roles-30.png){ loading=lazy }

 ![pdf-bpa-roles-31.png](./screenshots/pdf-bpa-roles-31.png){ loading=lazy }

 ![pdf-bpa-roles-32.png](./screenshots/pdf-bpa-roles-32.png){ loading=lazy }

 ![pdf-bpa-roles-33.png](./screenshots/pdf-bpa-roles-33.png){ loading=lazy }

 ![pdf-bpa-roles-34.png](./screenshots/pdf-bpa-roles-34.png){ loading=lazy }

 ![pdf-bpa-roles-35.png](./screenshots/pdf-bpa-roles-35.png){ loading=lazy }

 ![pdf-bpa-roles-36.png](./screenshots/pdf-bpa-roles-36.png){ loading=lazy }

 ![pdf-bpa-roles-37.png](./screenshots/pdf-bpa-roles-37.png){ loading=lazy }

 ![pdf-bpa-roles-38.png](./screenshots/pdf-bpa-roles-38.png){ loading=lazy }

 ![pdf-bpa-roles-39.png](./screenshots/pdf-bpa-roles-39.png){ loading=lazy }

 ![pdf-bpa-roles-40.png](./screenshots/pdf-bpa-roles-40.png){ loading=lazy }

 ![pdf-bpa-roles-41.png](./screenshots/pdf-bpa-roles-41.png){ loading=lazy }

 ![pdf-bpa-roles-42.png](./screenshots/pdf-bpa-roles-42.png){ loading=lazy }

 ![pdf-bpa-roles-43.png](./screenshots/pdf-bpa-roles-43.png){ loading=lazy }

 ![pdf-bpa-roles-44.png](./screenshots/pdf-bpa-roles-44.png){ loading=lazy }

 ![pdf-bpa-roles-45.png](./screenshots/pdf-bpa-roles-45.png){ loading=lazy }

 ![pdf-bpa-roles-46.png](./screenshots/pdf-bpa-roles-46.png){ loading=lazy }

 ![pdf-bpa-roles-47.png](./screenshots/pdf-bpa-roles-47.png){ loading=lazy }

 ![pdf-bpa-roles-48.png](./screenshots/pdf-bpa-roles-48.png){ loading=lazy }

 ![pdf-bpa-roles-49.png](./screenshots/pdf-bpa-roles-49.png){ loading=lazy }

 ![pdf-bpa-roles-50.png](./screenshots/pdf-bpa-roles-50.png){ loading=lazy }

 ![pdf-bpa-roles-51.png](./screenshots/pdf-bpa-roles-51.png){ loading=lazy }

 ![pdf-bpa-roles-52.png](./screenshots/pdf-bpa-roles-52.png){ loading=lazy }

 ![pdf-bpa-roles-53.png](./screenshots/pdf-bpa-roles-53.png){ loading=lazy }

 ![pdf-bpa-roles-54.png](./screenshots/pdf-bpa-roles-54.png){ loading=lazy }

 ![pdf-bpa-roles-55.png](./screenshots/pdf-bpa-roles-55.png){ loading=lazy }


<!-- Live BPA Screenshot: live-roles -->
<div class="live-screenshot" markdown>

![Roles - Processing roles and workflow configuration](./screenshots/live-roles.png){ loading=lazy }
*Current BPA view (2026-02-15) — [F. Roles](https://bpa.cuba.eregistrations.org/services/2c918084887c7a8f01887c99ed2a6fd5/roles){ target=_blank }*

</div>
<!-- /Live BPA Screenshot: live-roles -->

## Role definition and types

A role is a necessary action by a public institution for a registration to be processed. There are 2 types of roles: Human role (a person reviews the file, adds information, and approves, rejects or sends back the file; various types including review role and processing role) and BOT role (automatic processing role performed by a BOT).

### Roles summary -- "Permisos eventuales" service

The "Permisos eventuales" service contains **10 roles** in total: 5 user (human) roles and 5 BOT roles.

| # | Role name | Type | Assigned to | Start role | Sort order |
|---|-----------|------|-------------|------------|------------|
| 1 | Revision | User | revision | Yes | 0 |
| 2 | Solicitud | User | processing | No | 1 |
| 3 | Datos complementarios | User | applicant | No | 2 |
| 4 | Permiso eventual | User | processing | No | 3 |
| 5 | Actualizar PE | BOT | -- | No | 4 |
| 6 | Crear nuevo PE | BOT | -- | No | 4 |
| 7 | Actualizar productos | BOT | -- | No | 5 |
| 8 | Crear nuevos productos | BOT | -- | No | 5 |
| 9 | Permiso | BOT | -- | No | 6 |
| 10 | Applicant | User | applicant | No | 130 |

All user roles have `allow_to_confirm_payments: false` and `allow_access_to_financial_reports: false`. All BOT roles have `repeat_until_successful: false`.

### Workflow order

The processing workflow follows this sequence through the roles:

```
Revision (0) --> Solicitud (1) --> Datos complementarios (2) --> Permiso eventual (3)
 --> Actualizar PE / Crear nuevo PE (4)
 --> Actualizar productos / Crear nuevos productos (5)
 --> Permiso (6)
```

The **Applicant** role (sort order 130) sits outside the main processing chain and represents the applicant's own view of the file at any point.

---

## 1. Create human roles

!!! warning "Modified -- [Verify in BPA](https://bpa.cuba.eregistrations.org/services/2c918084887c7a8f01887c99ed2a6fd5/roles){ target=_blank }"

Click on Processing (Roles) tab. Click 'add'. 'Human role' is selected by default. Activate 'Is start role in process flow' if first role. Select Role Type. Activate 'Visible for applicant'. Enter name and short name. Additional options may include: 'Allow to confirm payments' and 'Allow access to financial reports'. Create.

??? note "Original manual text"
 Click on the Processing (Roles) tab on the side menu. Click on 'add' button in the search bar. A slider will open. 'Human role' is selected by default. Activate 'Is start role in process flow' if it is the first role in the registration. Select Role Type. Activate 'Visible for applicant'. Enter name of the role. Enter short name. Create.

!!! example "Real data -- Human roles in 'Permisos eventuales'"
 **5 human roles** are configured for this service:

 1. **Revision** -- assigned to: `revision`, start role: **yes**, sort order: 0.
 This is the entry point of the workflow. The revision operator verifies documents and data before passing the file forward.

 2. **Solicitud** -- assigned to: `processing`, sort order: 1. Description: "Numero de solicitud".
 The first processing role after revision, where the request number is assigned.

 3. **Datos complementarios** -- assigned to: `applicant`, sort order: 2.
 Returns the file to the applicant so they can provide additional data before final processing.

 4. **Permiso eventual** -- assigned to: `processing`, sort order: 3.
 The final human processing role before the file enters BOT processing.

 5. **Applicant** -- assigned to: `applicant`, sort order: 130.
 The applicant-facing role, positioned last in sort order since it is not part of the sequential processing chain.

 All five roles have `allow_to_confirm_payments: false` and `allow_access_to_financial_reports: false`.

---

## Human role elements: a. Description

A human role is defined by 3 elements: Description (name of the role, institution in charge, registrations linked), Form (describes the action), Status (0=pending, 1=approved, 2=send back, 3=rejected). The Description tab shows name, short name (editable), registrations linked (select from dropdown or select all), institution in charge (select or add new with name, short name, URL), and involved units.

---

## Human role elements: b. Form

The Form tab allows incorporating the action the operator should perform. Example: providing certificate number. Data from fields in this section can be copied to the certificate using 'copy value from' function.

---

## Human role elements: c. Status

4 basic statuses: 0=Pending, 1=Approved/successfully passed, 2=Sent back for correction, 3=Rejected. Statuses 2 and 3 must be specifically authorized by the Analyst. Under statuses 1 and 2, destination role must be indicated. Messages at various stages use moustache template syntax to copy values from application file. Rejection-reasons and file-rejected mustache variables available. Links can be added to messages. Receiver and delays configurable.

---

## 2. Create BOT roles

Click 'BOT role'. Activate 'Is start role' if first. Enter name and short name. Create. Select preceding role to activate. A BOT role is defined by 3 elements: Description (name, type, institution, registrations), BOT (type prefilled from Description, select BOT, mapping), Status (same as human role but BOT cannot reject). Under BOT tab, select API version from GDB. APIs generated automatically for each database version.

!!! example "Real data -- BOT roles in 'Permisos eventuales'"
 **5 BOT roles** are configured for this service. None use `repeat_until_successful`.

 1. **Actualizar PE** -- sort order: 4.
 Updates an existing permit record in the GDB (Government Database).

 2. **Crear nuevo PE** -- sort order: 4.
 Creates a new permit record in the GDB. Shares the same sort order as "Actualizar PE" because only one of these two executes per file, depending on whether the permit already exists.

 3. **Actualizar productos** -- sort order: 5.
 Updates product records in the GDB for the permit.

 4. **Crear nuevos productos** -- sort order: 5.
 Creates new product records in the GDB. Like the permit pair above, this shares sort order 5 with "Actualizar productos" because the path depends on whether products already exist.

 5. **Permiso** -- sort order: 6.
 The final BOT role in the chain. Performs closing permit processing after all GDB writes are complete.

---

## 2.1 Polling BOT

Configure a BOT role to query the database periodically for a set amount of time. Toggle 'roles repeat until successful'. Set query interval (how often) and active duration (how long before failure). If data appears before time expires, role succeeds and file continues flow.

---

## 3. Revision role

Revision role obliges operator to verify and validate documents and data before sending to next role. Usually the start role. Documents revision tab shows uploaded documents on left, data and requirements on right. If operator chooses 'NO', rejection reason field appears (reasons managed in Tables > Instance Catalog > Document Rejection reasons). Data revision tab displays all applicant file components. Field-by-field verification enabled in service settings under 'Revision by field' toggle. Approval button activates only after all documents and data are validated.

!!! example "Real data -- Revision role in 'Permisos eventuales'"
 The **Revision** role (sort order 0) is marked as `start_role: true`, making it the entry point of the entire workflow. It is assigned to the `revision` operator type. Every new application file enters processing through this role before advancing to "Solicitud".

---

## Effects system interaction with roles


The Effects system (activate/deactivate/show/hide/enable/disable) is a new platform feature that may interact with role form components, allowing determinant-driven behavior on processing forms.

---

## E-signature integration in roles


E-signature may be integrated into the role processing workflow, allowing operators to digitally sign documents or approvals during processing.

---

## New role permissions and options


!!! example "Real data -- Role permissions in 'Permisos eventuales'"
 All 5 user roles in this service have both permission flags set to `false`:

 - `allow_to_confirm_payments: false`
 - `allow_access_to_financial_reports: false`

 This means no operator role in the "Permisos eventuales" workflow is authorized to confirm payments or access financial reports through the role configuration.

---

## Part B system actions in roles

Processing roles can include system actions — built-in platform actions that handle standard workflow operations such as file validation, rejection, sending back for corrections, and printing. These system actions are assigned to buttons within the role's processing form and execute predefined logic without requiring custom BOT configuration. See the Part B (Processing) section for the full list of available system actions.

---
